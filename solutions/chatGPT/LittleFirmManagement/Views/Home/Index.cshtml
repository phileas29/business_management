@{
    ViewData["Title"] = "Home Page";
    var numClients = Model.Count;
}


<div class="text-center">
    <h1>Bienvenue dans le micro-logiciel de gestion pour le dépannage informatique en Services à la Personne</h1>
    <div class="container-fluid">
        <div class="row">
            <!-- Column 1: List of buttons -->
            <div class="col-md-6">
                <div class="mb-3">
                    <h4>Que souhaitez-vous faire ?</h4>
                </div>
                <div>
                    <ul class="list-group">
                        <li class="list-group-item"><a class="nav-link" href="/SubMenus/Enter">Enter</a></li>
                        <li class="list-group-item"><a class="nav-link" href="/SubMenus/Consult">Consult</a></li>
                        <li class="list-group-item"><a class="nav-link" href="/SubMenus/Execute">Execute</a></li>
                        <li class="list-group-item"><a class="nav-link" href="/SubMenus/Configure">Configure</a></li>
                    </ul>
                </div>
            </div>

            <!-- Column 2: Map -->
            <div class="col-md-6">
                <div id="mapid" style="height: 600px; width: 600px;"></div>
                <p>Déjà @numClients client.e.s satisfait.e.s !!!</p>
            </div>
        </div>
    </div>

</div>


@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Leaflet JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>
        var mymap = L.map('mapid').setView([47.9375, -4.0155], 11);

        var redIcon = L.icon({
            iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34],
            tooltipAnchor: [16, -28],
            shadowSize: [41, 41]
        });

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'
        }).addTo(mymap);

        // loop through each city and add a marker to the map
        @foreach (var c in Model)
        {
            <text>var marker = L.marker([@c.CLocationLat, @c.CLocationLong], { icon: redIcon }).addTo(mymap);
            marker.bindPopup("<b>@c.CName</b>"); </text>

        }
    </script>
}